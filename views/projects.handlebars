<div class="projects-container">
    <h1 class="projects-name">Projects</h1>

    {{#if session.isAdmin}}
    <div><a class="new-pro" href="/project/new">Add new Project</a></div>
    {{/if}}

    <div class="pro-info">
        <div class="projects-grid">
            {{#each projects}}
            <div class="projects-card">
                <h2>{{pname}}</h2>
                <p>Year: {{pyear}}</p>
                <div class="image-for-card">
                    <img src="{{pimgURL}}" alt="{{pname}}" />
                </div>
                <a href="/project/{{pid}}" class="view-project">View Project</a>
                
                {{#if ../session.isAdmin}}
                <div class="admin-controls">
                    <a href="/project/modify/{{pid}}" class="modify">Modify</a>
                    <a href="/project/delete/{{pid}}" class="delete">Delete</a>
                </div>
                {{/if}}
            </div>
            {{/each}}
        </div>
    </div>

{{!-- ------------------------------------------------------------------------------- --}}
{{!-- CITING CODE FROM CHATGPT 
Code generated by ChatGPT - BEGIN
(ChatGPT, 2024, "how to create a dynamic pagination system", https://chatgpt.com/) --}}
{{!-- ------------------------------------------------------------------------------- --}}
    <!-- Paginering -->
    <div class="pagination">
        {{#if (gt currentPage 1)}}
        <a href="/projects?page={{subtract currentPage 1}}">&laquo; Previous</a>
        {{/if}}

        {{#each (range 1 totalPages)}}
        <a href="/projects?page={{this}}" class="{{#if (eq this ../currentPage)}}active{{/if}}">{{this}}</a>
        {{/each}}

        {{#if (lt currentPage totalPages)}}
        <a href="/projects?page={{add currentPage 1}}">Next &raquo;</a>
        {{/if}}
    </div>
</div>
{{!-- ------------------------------------------------------------------------------- --}}
{{!-- Code generated by ChatGPT - END --}}
{{!-- ------------------------------------------------------------------------------- --}}